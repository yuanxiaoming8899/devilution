<div class="Box-sc-g0xbh4-0 bJMeLZ js-snippet-clipboard-copy-unpositioned" data-hpc="true"><article class="markdown-body entry-content container-lg" itemprop="text"><p dir="auto"><a href="https://circleci.com/gh/diasurgical/devilution" rel="nofollow"><img src="https://camo.githubusercontent.com/7c9d40302959114ad062909498532ed0547d5461c0ee9bcde9796582b765637a/68747470733a2f2f636972636c6563692e636f6d2f67682f646961737572676963616c2f646576696c7574696f6e2e7376673f7374796c653d737667" alt="构建状态" data-canonical-src="https://circleci.com/gh/diasurgical/devilution.svg?style=svg" style="max-width: 100%;"></a>
<a href="https://www.travis-ci.com/diasurgical/devilution" rel="nofollow"><img src="https://camo.githubusercontent.com/bdd98c195ad630409d1f40f9e739d9caac688583e9c7f77aff94f4f4e8038e57/68747470733a2f2f7777772e7472617669732d63692e636f6d2f646961737572676963616c2f646576696c7574696f6e2e7376673f6272616e63683d6d6173746572" alt="构建状态" data-canonical-src="https://www.travis-ci.com/diasurgical/devilution.svg?branch=master" style="max-width: 100%;"></a>
<a href="https://ci.appveyor.com/project/AJenbo/devilution" rel="nofollow"><img src="https://camo.githubusercontent.com/1fad2827d4505158902db2e6f243f52d8b73dc08fdaed162f3587201e19e9ec8/68747470733a2f2f63692e6170707665796f722e636f6d2f6170692f70726f6a656374732f7374617475732f636539776e6634366771716b367072703f7376673d74727565" alt="构建状态" data-canonical-src="https://ci.appveyor.com/api/projects/status/ce9wnf46gqqk6prp?svg=true" style="max-width: 100%;"></a>
<a href="https://github.com/diasurgical/devilution/releases"><img src="https://camo.githubusercontent.com/6d7c907b5b1197c647fa275712afeef50b13df80a8203d7edc057ddcf60328c8/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f646961737572676963616c2f646576696c7574696f6e2f746f74616c2e737667" alt="下载" data-canonical-src="https://img.shields.io/github/downloads/diasurgical/devilution/total.svg" style="max-width: 100%;"></a>
<a href="https://github.com/diasurgical/devilution/stargazers"><img src="https://camo.githubusercontent.com/84d96d68ecd94bfba57f17771125e38776de4f87ed734c5d2c8d298ad95ea67d/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f73746172732f646961737572676963616c2f646576696c7574696f6e2e737667" alt="Github 星星" data-canonical-src="https://img.shields.io/github/stars/diasurgical/devilution.svg" style="max-width: 100%;"></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://avatars3.githubusercontent.com/u/1965106?s=16&amp;v=4"><img src="https://avatars3.githubusercontent.com/u/1965106?s=16&amp;v=4" alt="Discord 频道" style="max-width: 100%;"></a> <a href="https://discord.gg/YQKCAYQ" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Discord 聊天频道</font></font></a></p>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">邪术</font></font></h1><a id="user-content-devilution" class="anchor" aria-label="永久链接：Devilution" href="#devilution"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暗黑破坏神：1996 年电脑游戏背后的魔法</font></font></p>
<p dir="auto"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，Devilution 需要 的正版</font></font><code>diabdat.mpq</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。本项目不提供任何暗黑破坏神 1 游戏资产。要获取游戏资产的正版副本，请参阅</font></font><a href="https://www.gog.com/game/diablo" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暗黑破坏神 1 的 GoG 版本</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">介绍</font></font></h1><a id="user-content-introduction" class="anchor" aria-label="永久链接：简介" href="#introduction"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虽然暴雪的大多数游戏都获得了多年的喜爱和支持，但《暗黑破坏神》却一直默默无闻。它被放弃，转而开发续集，但仍然充满了漏洞和未完成的潜力。这款游戏最后一次打补丁是在 2001 年，之后就完全停产了，我想解决这个问题。我十几岁的时候经常玩《暗黑破坏神》，但随着时间的推移，在较新的硬件上运行这款游戏变得越来越困难。《暗黑破坏神 II》缺乏许多改进也让它搁浅了。起初，这款游戏似乎注定要失败，但值得庆幸的是，1997 年的一个小疏忽让它得以重生。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暗黑破坏神的开发团队将源代码交给</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Synergistic Software</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开发《地狱火》的同时，开始着手开发《暗黑破坏神 II》。然而鲜为人知的是，源代码还被交给了</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Climax Studios</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开发 PlayStation 移植版。索尼一向以放任不管而闻名，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尤其</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是在日本。从泄露原型到整个游戏源代码，暗黑破坏神也不例外。符号信息被意外地留在了日本移植版中。符号文件通常用于调试，它包含编译时生成的所有内容的映射。这包括文件名、函数、结构、变量等等！更糟糕的是，PC 版本中隐藏了一个特殊版本</font></font><code>DIABDAT.MPQ -&gt; D1221A.MPQ -&gt; DIABLO.EXE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">！此版本包含调试工具和断言字符串，进一步泄露了代码信息。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">经过数月的努力，修复了这些错误，Devilution 诞生了。我向你们展示了暗黑破坏神原始源代码的重建版本！庇护所的英雄们将再次回到深渊！</font></font></p>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目的</font></font></h1><a id="user-content-purpose" class="anchor" aria-label="固定链接：目的" href="#purpose"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有了源代码，《暗黑破坏神》的更新和维护就变得容易得多。多年来，模组制作者不得不依赖繁琐的代码编辑和内存注入。有些人甚至走得更远，颠覆了游戏的大部分或全部。问题是他们很少分享他们的工作。通常这是一个单人工作，由于需要大量时间或缺乏兴趣，他们继续自己的生活。这让我们回到原点，不得不再次投入无数个小时的工作。Devilution 旨在通过最终向社区开放源代码来解决这个问题。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了确保所有内容都得到保留，Devilution 保留了所有最初设计的内容。这甚至包括原始游戏中的错误和编写糟糕的代码。这样，它就可以作为开发人员工作的基础，使更新、修复和将游戏移植到其他平台比以前容易得多。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为一个附带目标，Devilution 试图记录最终游戏中未使用和被删减的内容。《暗黑破坏神》的开发在接近尾声时仓促完成——许多想法被废弃，多人游戏很快被黑客入侵。通过检查源代码，我们可以看到计划开发的各种怪癖。</font></font></p>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编译</font></font></h1><a id="user-content-compiling" class="anchor" aria-label="永久链接：编译" href="#compiling"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diablo 是在 Windows 95 上使用 Visual C++ 4.20 和更高版本的 5.10 和 6（用于较新的补丁）开发的。Devilution 旨在与原始工具和现代工具兼容，但将遵守原始编译器使用的标准。</font></font></p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Visual C++ 6 进行构建</font></font></h3><a id="user-content-building-with-visual-c-6" class="anchor" aria-label="永久链接：使用 Visual C++ 6 构建" href="#building-with-visual-c-6"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打开项目工作区</font></font><code>Diablo.dsw</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，选择</font></font><code>Debug</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code>Release</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后</font></font><code>Build Diablo.exe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要构建一个编译后函数尽可能接近原始版本的二进制文件，请使用</font></font><a href="https://winworldpc.com/product/visual-c/6x" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visual C++ 6</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和 Service Pack 5 以及</font></font><a href="https://download.microsoft.com/download/vb60ent/update/6/w9x2kxp/en-us/vcpp5.exe" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Processor Pack</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这对于正确生成代码非常重要！</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）您还需要</font></font><a href="https://winworldpc.com/product/visual-c/5x" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visual C++ 5</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a href="http://www.mediafire.com/file/jw4j4sd5dnzze4p/VS97SP3.zip" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Service Pack 3</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因为原始二进制文件与旧链接器链接在一起。遗憾的是，您不能直接从 VC6 使用旧链接器，因此您需要手动链接或通过</font></font><code>MakefileVC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">项目根目录中的链接。</font></font></p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 Visual Studio 2010-2017 进行构建</font></font></h3><a id="user-content-building-with-visual-studio-2010-2017" class="anchor" aria-label="永久链接：使用 Visual Studio 2010-2017 进行构建" href="#building-with-visual-studio-2010-2017"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打开项目解决方案</font></font><code>Diablo.sln</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，选择</font></font><code>Debug</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code>Release</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后</font></font><code>Build Solution</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确保禁用数据执行保护。</font></font><code>Storm.dll</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用动态编译来提高渲染性能，但未能将生成的内存页面标记为可执行文件，导致尝试绘制时出现保护错误。</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置选项-&gt;链接器-&gt;高级-&gt;数据执行保护（DEP）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将此值设置为：否（/NXCOMPAT: NO）。</font></font></li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您使用的是 Visual Studio 2017，您还需要安装以下依赖项。请确保在安装时启用这些依赖项（或修改您的安装）：</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要“Windows 8.1 SDK”（目标平台）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要“适用于 x86 和 x64 的 Visual C++ MFC”（对于 afxres.h）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要“Windows Universal CRT SDK”（对于 ctype.h）</font></font></li>
</ul>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 MinGW 进行构建</font></font></h3><a id="user-content-building-with-mingw" class="anchor" aria-label="永久链接：使用 MinGW 构建" href="#building-with-mingw"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><font style="vertical-align: inherit;"></font><code>make MINGW32=1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">针对</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MinGW32</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code>make</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MinGW64</font><font style="vertical-align: inherit;">执行</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可选择添加</font></font><code>debug</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以使用调试功能进行构建。</font></font></li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">若要在不同平台上使用 MinGW64 进行编译，请参考相应的文档：</font></font><a href="/diasurgical/devilution/blob/master/docs/INSTALL_linux.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> | </font></font><a href="/diasurgical/devilution/blob/master/docs/INSTALL_windows.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> | </font></font><a href="/diasurgical/devilution/blob/master/docs/INSTALL_mac.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mac</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p dir="auto"><a href="/diasurgical/devilution/blob/master/docs/debug.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调试构建功能</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
|</font></font><a href="/diasurgical/devilution/blob/master/docs/compatibility_matrix.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">兼容性矩阵</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
|</font></font><a href="/diasurgical/devilution/blob/master/docs/troubleshooting.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">故障排除</font></font></a></p>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装</font></font></h1><a id="user-content-installing" class="anchor" aria-label="永久链接：安装" href="#installing"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编译完成后，Devilution 二进制文件将替代</font></font><code>Diablo.exe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。需要包含原始游戏补丁到 1.09(b) 的以下文件：</font></font><code>DIABDAT.MPQ</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>DiabloUI.dll</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>SmackW32.dll</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>Standard.snp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>Storm.dll</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。如果</font></font><code>COPYPROT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在编译时定义了 ，则还需要暗黑破坏神 CD。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此外，建议使用 Strange Bytes 的</font></font><a href="http://www.strangebytes.com/index.php/projects/1-diablo-1-windows-7-vista-patch" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DirectDraw 补丁</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来帮助解决兼容性问题并在窗口模式下运行游戏。</font></font></p>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多人游戏</font></font></h1><a id="user-content-multiplayer" class="anchor" aria-label="永久链接：多人游戏" href="#multiplayer"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Devilution 可通过 GoG 的 Battle.net 服务器和使用 ipx-wrapper 的 IPX 运行。此外，如果</font></font><code>Standard.snp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用星际争霸 1.16.1，还可以进行本地 UDP 游戏。有 ZeroTier 等程序可以全局连接 UDP。</font></font></p>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">贡献</font></font></h1><a id="user-content-contributing" class="anchor" aria-label="永久链接：贡献" href="#contributing"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a href="/diasurgical/devilution/blob/master/docs/CONTRIBUTING.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指南</font></font></a></p>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">改装</font></font></h1><a id="user-content-modding" class="anchor" aria-label="固定链接：改装" href="#modding"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下是一些对游戏进行的简单改进的示例。未来计划创建用于设计地下城和图形的工具。</font></font></p>
<details><summary><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">示例 1：怪物生命条和物品突出显示</font></font></summary>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/diasurgical/scalpel/blob/master/screens/mod1.png"><img src="https://github.com/diasurgical/scalpel/raw/master/screens/mod1.png" alt="怪物生命条+物品" style="max-width: 100%;"></a></p>
</details>
<details><summary><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">示例 2：类似《暗黑破坏神 2》的新交易屏幕</font></font></summary>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/diasurgical/scalpel/blob/master/screens/mod2.png"><img src="https://github.com/diasurgical/scalpel/raw/master/screens/mod2.png" alt="新的交易屏幕" style="max-width: 100%;"></a></p>
</details>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常问问题</font></font></h1><a id="user-content-faq" class="anchor" aria-label="永久链接：常见问题解答" href="#faq"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<details><summary><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">点击显示</font></font></summary>
<blockquote>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">哇，这是否意味着我现在可以免费下载和玩暗黑破坏神？</font></font></p>
</blockquote>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不，您需要访问原始游戏的数据。如果您没有原始 CD，那么您可以</font></font><a href="https://www.gog.com/game/diablo" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从 GoG.com 购买暗黑破坏神</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。或者，您也可以使用</font><a href="/diasurgical/devilution/blob/master/shareware"><font style="vertical-align: inherit;">http://ftp.blizzard.com/pub/demos/diablosw.exe</font></a></font><code>spawn.mpq</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本</font><font style="vertical-align: inherit;">，并使用定义的 SPAWN 标志进行编译。</font></font><a href="/diasurgical/devilution/blob/master/shareware"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<blockquote>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">很酷，所以我启动了你的模型，但是没有 1080p 或新功能？</font></font></p>
</blockquote>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了便于记录，Devilution 的目标是保持原始代码不变。</font></font></p>
<blockquote>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">那么您将来会增加跨平台支持或新功能吗？</font></font></p>
</blockquote>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是的！这是作为一个附带项目完成的，请参阅</font></font><a href="https://github.com/diasurgical/devilutionX"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DevilutionX</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<blockquote>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">那么地狱火又如何呢？</font></font></p>
</blockquote>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">《地狱火》对开发者来说有点失败。基础游戏完成后可能会提供支持。</font></font></p>
<blockquote>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我想就是这样了，但是 Devilution 合法吗？</font></font></p>
</blockquote>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是一个棘手的问题。根据 DMCA，逆向工程在文档和互操作性方面有例外。Devilution 提供了实现后者所需的必要文档。然而，它完全处于灰色地带。真正的问题是暴雪是否认为有必要采取行动。</font></font></p>
</details>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">致谢</font></font></h1><a id="user-content-credits" class="anchor" aria-label="永久链接：致谢" href="#credits"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2018 年由 GalaXyHaXz 进行逆向工程</font></font></li>
<li><a href="https://github.com/sanctuary"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">避难所</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 广泛记录暗黑破坏神游戏引擎</font></font></li>
<li><a href="https://github.com/bwapi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BWAPI 团队</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 提供与 Storm 配合使用的库 API</font></font></li>
<li><a href="https://github.com/ladislav-zezula"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ladislav Zezula</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 逆向 PKWARE 库，进一步记录 Storm</font></font></li>
<li><a href="https://github.com/fearedbliss"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fearedbliss——</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">令人敬畏</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diablodin - 提供有关 PSX 版本的更多信息</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Climax Studios 和 Sony - 秘密协助他们的卧底 QA :P</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暴雪北方——等一下，这是一个打字错误！</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">抑郁症——我生命中四个月的时间浪费在这件事上的原因；）</font></font></li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并特别感谢所有支持和为这个项目努力的人们！&lt;3</font></font></p>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更新日志</font></font></h1><a id="user-content-changelog" class="anchor" aria-label="永久链接：变更日志" href="#changelog"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a href="/diasurgical/devilution/blob/master/docs/CHANGELOG.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从开始到发布</font></font></a></p>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">合法的</font></font></h1><a id="user-content-legal" class="anchor" aria-label="永久链接：法律" href="#legal"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Devilution 已公开发布，并根据可持续使用许可发布（请参阅</font></font><a href="/diasurgical/devilution/blob/master/LICENSE.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">许可</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此存储库中的源代码仅供非商业用途。如果您使用源代码，则不得向其他人收取访问源代码或其任何衍生作品的费用。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Battle.net(R) - 版权所有 (C) 1996 Blizzard Entertainment, Inc. 保留所有权利。Battle.net 和 Blizzard Entertainment 是 Blizzard Entertainment, Inc. 在美国和/或其他国家/地区的商标或注册商标。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diablo(R) - 版权所有 (C) 1996 Blizzard Entertainment, Inc. 保留所有权利。Diablo 和 Blizzard Entertainment 是 Blizzard Entertainment, Inc. 在美国和/或其他国家/地区的商标或注册商标。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Devilution 及其任何维护者与暴雪娱乐 (R) 均无任何关联或认可。</font></font></p>
</article></div>
